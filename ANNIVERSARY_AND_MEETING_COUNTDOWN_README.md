# 纪念日和下次见面日倒计时功能说明

## 功能概述

本功能为LoveDaily应用添加了纪念日管理和下次见面日倒计时功能，让用户能够：
1. 管理多个纪念日（添加、删除）
2. 设置下次见面日期
3. 在Home页面实时显示倒计时

## 新增功能

### 1. 纪念日管理
- **位置**: 系统配置页面 (`/admin/system-config`)
- **功能**: 
  - 添加纪念日（名称 + 日期）
  - 删除纪念日
  - 自动计算最近纪念日倒计时

### 2. 下次见面日设置
- **位置**: 系统配置页面 (`/admin/system-config`)
- **功能**: 
  - 设置下次见面日期
  - 自动计算见面倒计时

### 3. Home页面倒计时显示
- **位置**: Home页面标题区域，在"在一起时间"倒计时下方
- **显示内容**:
  - 最近纪念日倒计时
  - 下次见面倒计时
- **样式**: 与"美好回忆"文本内容保持一致的毛玻璃效果和闪烁动画
- **更新频率**: 每秒自动更新一次，显示精确到秒

## 技术实现

### 后端
- 新增 `SystemConfigService` 接口方法
- 新增 `SystemConfigController` API端点
- 支持JSON格式存储纪念日列表

### 前端
- 新增 `SystemConfigList.vue` 配置界面
- 新增 `Home.vue` 倒计时显示
- 新增相关API调用方法

### 数据库
- 使用现有的 `system_configs` 表
- 新增配置项：
  - `anniversary_dates`: JSON格式存储纪念日列表
  - `next_meeting_date`: 字符串格式存储下次见面日期

## 使用方法

### 1. 初始化数据库
```sql
-- 执行 database/init_anniversary_config.sql 脚本
-- 或手动插入配置项
```

### 2. 配置纪念日
1. 进入系统配置页面 (`/admin/system-config`)
2. 点击"纪念日列表"
3. 输入纪念日名称和选择日期
   - 可以选择过去、现在或未来的日期
   - 支持2020-2030年的日期选择
4. 确认添加

### 3. 配置下次见面日
1. 进入系统配置页面 (`/admin/system-config`)
2. 点击"下次见面日期"
3. 选择日期并确认

### 4. 查看倒计时
- 在Home页面标题区域可以看到倒计时显示
- 纪念日倒计时显示"X天X时X分X秒"或"就是今天！🎉"，并显示纪念日名称
- 见面倒计时显示"X天X时X分X秒"或"就是今天！💕"
- 倒计时每秒实时更新，显示精确到秒

## 数据结构

### 纪念日格式
```json
[
  {
    "name": "第一次见面",
    "date": "2024-01-01"
  },
  {
    "name": "在一起纪念日",
    "date": "2024-02-14"
  }
]
```

### 下次见面日格式
```
"2024-12-25"
```

## 注意事项

1. **权限要求**: 需要管理员权限才能配置
2. **日期格式**: 使用 YYYY-MM-DD 格式
3. **纪念日选择**: 可以选择过去、现在和未来的日期（2020-2030年）
4. **下次见面日**: 只能选择今天及以后的日期
5. **倒计时更新**: 每秒自动更新一次，显示精确到秒
6. **响应式设计**: 支持移动端和桌面端显示
7. **数据持久化**: 所有配置自动保存到数据库

## 故障排除

### 倒计时不显示
1. 检查是否已配置纪念日或下次见面日
2. 检查浏览器控制台是否有错误
3. 确认数据库配置项是否正确

### 配置无法保存
1. 检查用户权限
2. 检查网络连接
3. 查看后端日志

## 未来扩展

1. **提醒功能**: 在纪念日或见面日前发送通知
2. **历史记录**: 记录已过的纪念日和见面记录
3. **分享功能**: 分享倒计时到社交媒体
4. **自定义样式**: 允许用户自定义倒计时显示样式


