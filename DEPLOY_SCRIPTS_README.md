# LoveDaily éƒ¨ç½²è„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ“¦ è„šæœ¬æ–‡ä»¶è¯´æ˜

æœ¬é¡¹ç›®æä¾›äº†å¤šä¸ªéƒ¨ç½²è„šæœ¬ï¼Œé€‚ç”¨äºä¸åŒçš„éƒ¨ç½²åœºæ™¯ï¼š

### 1. `one-click-deploy.sh` - ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰
**åŠŸèƒ½æœ€å®Œæ•´ï¼Œé€‚åˆå…¨æ–°æœåŠ¡å™¨éƒ¨ç½²**

- âœ… è‡ªåŠ¨å®‰è£…Gitã€Dockerã€Docker Compose
- âœ… è‡ªåŠ¨é…ç½®SSHå¯†é’¥å’ŒGitHubè¿æ¥
- âœ… è‡ªåŠ¨å…‹éš†é¡¹ç›®å¹¶éƒ¨ç½²
- âœ… å®Œæ•´çš„ç³»ç»Ÿæ£€æŸ¥å’Œé”™è¯¯å¤„ç†

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x one-click-deploy.sh

# è¿è¡Œè„šæœ¬ï¼ˆä¼šæç¤ºè¾“å…¥GitHubä¿¡æ¯ï¼‰
./one-click-deploy.sh

# æˆ–è€…ç›´æ¥æŒ‡å®šGitHubç”¨æˆ·åå’Œä»“åº“å
./one-click-deploy.sh yourusername LoveDailyDetail
```

### 2. `auto-deploy.sh` - è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
**é€‚åˆå·²æœ‰Gitç¯å¢ƒçš„æœåŠ¡å™¨**

- âœ… æ£€æŸ¥Gitå®‰è£…å’Œé…ç½®
- âœ… è‡ªåŠ¨ç”ŸæˆSSHå¯†é’¥
- âœ… é¡¹ç›®æ–‡ä»¶å®Œæ•´æ€§æ£€æŸ¥
- âœ… è¯¦ç»†çš„æ—¥å¿—è¾“å‡º

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
chmod +x auto-deploy.sh
./auto-deploy.sh
```

### 3. `quick-deploy.sh` - å¿«é€Ÿéƒ¨ç½²è„šæœ¬
**é€‚åˆå·²æœ‰å®Œæ•´ç¯å¢ƒçš„æœåŠ¡å™¨**

- âœ… å¿«é€Ÿå…‹éš†å’Œéƒ¨ç½²
- âœ… æœ€å°åŒ–äº¤äº’
- âœ… é€‚åˆè‡ªåŠ¨åŒ–éƒ¨ç½²

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
chmod +x quick-deploy.sh
./quick-deploy.sh yourusername LoveDailyDetail
```

### 4. `install-docker.sh` - Dockerå®‰è£…è„šæœ¬
**ä»…å®‰è£…Dockerç¯å¢ƒ**

- âœ… è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿç±»å‹
- âœ… å®‰è£…Dockerå’ŒDocker Compose
- âœ… é…ç½®ç”¨æˆ·æƒé™

**ä½¿ç”¨æ–¹æ³•ï¼š**
```bash
chmod +x install-docker.sh
./install-docker.sh
```

### 5. `deploy.sh` - é¡¹ç›®éƒ¨ç½²è„šæœ¬
**é¡¹ç›®å†…éƒ¨çš„Dockeréƒ¨ç½²è„šæœ¬**

- âœ… å¯åŠ¨DockeræœåŠ¡
- âœ… æ„å»ºå’Œè¿è¡Œå®¹å™¨
- âœ… å¥åº·æ£€æŸ¥

## ğŸš€ æ¨èéƒ¨ç½²æµç¨‹

### å…¨æ–°æœåŠ¡å™¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **ä¸Šä¼ è„šæœ¬åˆ°æœåŠ¡å™¨**
```bash
# å°†è„šæœ¬ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp *.sh user@server:/home/user/
```

2. **è¿è¡Œä¸€é”®éƒ¨ç½²**
```bash
# è¿æ¥åˆ°æœåŠ¡å™¨
ssh user@server

# è¿›å…¥è„šæœ¬ç›®å½•
cd /home/user

# è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
chmod +x one-click-deploy.sh
./one-click-deploy.sh
```

3. **æŒ‰æç¤ºæ“ä½œ**
- è¾“å…¥GitHubç”¨æˆ·åå’Œé‚®ç®±
- æ·»åŠ SSHå…¬é’¥åˆ°GitHub
- ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²å®Œæˆ

### å·²æœ‰ç¯å¢ƒå¿«é€Ÿéƒ¨ç½²

```bash
# å¿«é€Ÿéƒ¨ç½²
chmod +x quick-deploy.sh
./quick-deploy.sh yourusername LoveDailyDetail
```

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. GitHubå‡†å¤‡
- ç¡®ä¿é¡¹ç›®å·²ä¸Šä¼ åˆ°GitHub
- å‡†å¤‡å¥½GitHubç”¨æˆ·åå’Œé‚®ç®±
- ç¡®ä¿æœ‰SSHå¯†é’¥æˆ–å‡†å¤‡ç”Ÿæˆ

### 2. æœåŠ¡å™¨è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04+ / CentOS 7+
- **å†…å­˜**: è‡³å°‘2GBå¯ç”¨å†…å­˜
- **ç£ç›˜**: è‡³å°‘5GBå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: 80ç«¯å£å’Œ40000ç«¯å£å¯è®¿é—®

### 3. æƒé™è¦æ±‚
- érootç”¨æˆ·ï¼ˆè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†æƒé™ï¼‰
- sudoæƒé™ï¼ˆç”¨äºå®‰è£…è½¯ä»¶åŒ…ï¼‰

## ğŸ”§ è„šæœ¬åŠŸèƒ½è¯¦è§£

### ç³»ç»Ÿæ£€æŸ¥
- å†…å­˜å’Œç£ç›˜ç©ºé—´æ£€æŸ¥
- ç«¯å£å ç”¨æ£€æŸ¥
- ç³»ç»Ÿç±»å‹æ£€æµ‹

### ç¯å¢ƒå®‰è£…
- Gitè‡ªåŠ¨å®‰è£…å’Œé…ç½®
- Dockerå’ŒDocker Composeå®‰è£…
- SSHå¯†é’¥ç”Ÿæˆå’Œé…ç½®

### é¡¹ç›®éƒ¨ç½²
- é¡¹ç›®ä»£ç å…‹éš†/æ›´æ–°
- æ–‡ä»¶å®Œæ•´æ€§æ£€æŸ¥
- Dockerå®¹å™¨æ„å»ºå’Œå¯åŠ¨
- æœåŠ¡å¥åº·æ£€æŸ¥

### ç»“æœå±•ç¤º
- è®¿é—®åœ°å€æ˜¾ç¤º
- ç®¡ç†å‘½ä»¤æç¤º
- æ—¥å¿—æŸ¥çœ‹é€‰é¡¹

## ğŸ› å¸¸è§é—®é¢˜è§£å†³

### 1. SSHå¯†é’¥é—®é¢˜
```bash
# æ‰‹åŠ¨ç”ŸæˆSSHå¯†é’¥
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"

# æ·»åŠ åˆ°ssh-agent
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_rsa

# æŸ¥çœ‹å…¬é’¥
cat ~/.ssh/id_rsa.pub
```

### 2. Dockeræƒé™é—®é¢˜
```bash
# æ·»åŠ ç”¨æˆ·åˆ°dockerç»„
sudo usermod -aG docker $USER

# é‡æ–°ç™»å½•æˆ–è¿è¡Œ
newgrp docker
```

### 3. ç«¯å£å ç”¨é—®é¢˜
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep :80
netstat -tulpn | grep :40000

# åœæ­¢å ç”¨ç«¯å£çš„æœåŠ¡
sudo systemctl stop nginx  # å¦‚æœnginxå ç”¨80ç«¯å£
```

### 4. å†…å­˜ä¸è¶³é—®é¢˜
```bash
# æ£€æŸ¥å†…å­˜ä½¿ç”¨
free -h

# æ¸…ç†ç³»ç»Ÿç¼“å­˜
sudo sync && sudo sysctl -w vm.drop_caches=3
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
cd LoveDailyDetail/docker
docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f mysql
```

### é‡å¯æœåŠ¡
```bash
cd LoveDailyDetail/docker
docker-compose restart
```

### å®Œå…¨é‡æ–°éƒ¨ç½²
```bash
cd LoveDailyDetail/docker
docker-compose down
docker-compose up -d --build
```

## ğŸ¯ éƒ¨ç½²æˆåŠŸæ ‡å¿—

éƒ¨ç½²æˆåŠŸåï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

1. **è®¿é—®å‰ç«¯**: http://localhost
2. **è®¿é—®åç«¯**: http://localhost:40000/api
3. **æŸ¥çœ‹æœåŠ¡çŠ¶æ€**: `docker-compose ps` æ˜¾ç¤ºæ‰€æœ‰æœåŠ¡ä¸º `Up` çŠ¶æ€
4. **æŸ¥çœ‹æ—¥å¿—**: æ— é”™è¯¯ä¿¡æ¯

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ä¸è¦ä½¿ç”¨rootç”¨æˆ·è¿è¡Œè„šæœ¬**
2. **ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸**
3. **é¦–æ¬¡éƒ¨ç½²éœ€è¦è¾ƒé•¿æ—¶é—´**ï¼ˆä¸‹è½½é•œåƒå’Œæ„å»ºï¼‰
4. **å»ºè®®åœ¨éƒ¨ç½²å‰å¤‡ä»½é‡è¦æ•°æ®**
5. **ç”Ÿäº§ç¯å¢ƒè¯·ä¿®æ”¹é»˜è®¤å¯†ç **

---

é€šè¿‡è¿™äº›è„šæœ¬ï¼Œä½ å¯ä»¥è½»æ¾åœ°åœ¨LinuxæœåŠ¡å™¨ä¸Šéƒ¨ç½²LoveDailyé¡¹ç›®ï¼

